document.addEventListener("DOMContentLoaded",function(){function a(a){Object.assign(a.style,{position:"absolute",zIndex:10}),stage.viewer.container.appendChild(a)}function b(a,b,c){var d=document.createElement(a);return Object.assign(d,b),Object.assign(d.style,c),d}function c(a,c,d){var e=b("select",c,d);return a.forEach(function(a){e.add(b("option",{value:a[0],text:a[1]}))}),e}function d(a,b="N/A",c="#"){return struc=void 0,n=void 0,q=void 0,C.value=10,A.value="Show Labels",z.value="Show DURATION map",E.value="Show TM Annotations",G.innerText="",H.innerText="",stage.setFocus(0),stage.removeAllComponents(),stage.loadFile(a).then(function(a){J.innerHTML="<a href=\"https://www.rcsb.org/structure/"+c+"\" target=\"_blank\">"+b+"</a>",STATE=2,struc=a,a.addRepresentation("cartoon",{radiusType:"size",colorScheme:"residueindex"});var d=a.name.split("_")[2].split(".")[0];if("DURATION"==d?bfDURATION=a.addRepresentation("surface",{surfaceType:"av",probeRadius:2.1,sele:".BB",opacity:.7,clipNear:0}):"NUMBER"==d&&(bfNUMBER=a.addRepresentation("surface",{surfaceType:"av",probeRadius:2.1,sele:".BB",opacity:.7,clipNear:0}),bfNUMBER.toggleVisibility()),"DURATION"==d){labelNameDURATION=a.addRepresentation("label",{labelType:"format",labelFormat:"%(resno)s%(resname)s",labelGrouping:"residue",fontWeight:"normal",radiusType:"bfactor",showBackground:!0,backgroundColor:"red",backgroundOpacity:100,zOffset:10,color:"white"}),labelNameDURATION.parameters.showL=f(labelNameDURATION,10),labelNameDURATION.toggleVisibility();var g=Array.from(labelNameDURATION.parent.structure.atomStore.bfactor),h=Math.max.apply(null,g);labelNameDURATION.setParameters({radiusScale:e(h)})}else if("NUMBER"==d){labelNameNUMBER=a.addRepresentation("label",{labelType:"format",labelFormat:"%(resno)s%(resname)s",labelGrouping:"residue",fontWeight:"normal",radiusType:"bfactor",showBackground:!0,backgroundColor:"red",backgroundOpacity:100,zOffset:10,color:"white"}),labelNameNUMBER.parameters.showL=f(labelNameNUMBER,10),labelNameNUMBER.toggleVisibility();var g=Array.from(labelNameNUMBER.parent.structure.atomStore.bfactor),h=Math.max.apply(null,g);labelNameNUMBER.setParameters({radiusScale:e(h)});var j=[{text:"TMH 1",color:"darkred"},{text:"TMH 2",color:"orangered"},{text:"TMH 3",color:"orange"},{text:"TMH 4",color:"khaki"},{text:"TMH 5",color:"PaleTurquoise"},{text:"TMH 6",color:"lightblue"},{text:"TMH 7",color:"royalblue"}],k=[];for(m=0;m<parseInt(a.structure.atomCount);m++){var l=a.structure.getAtomProxy(m).z;k.push(l)}zMax=Math.max.apply(null,Array.from(k)),zMin=Math.min.apply(null,Array.from(k)),zMid=(zMax-zMin)/2+zMin;var l=a.structure.getAtomProxy();apIndexSkip=10,chainDataIndex=0;a.name.split("_")[0];a.structure.eachResidue(function(b){if(zMid=Math.floor(parseFloat(zMid)),cpZ=Math.floor(b.z),l.index=b.atomOffset+Math.floor(b.atomCount/2),!(cpZ-3<=zMid&&cpZ+3>=zMid))var c=document.createElement("div2");else if(l.index>apIndexSkip)var c=document.createElement("div1");else var c=document.createElement("div2");cpZ-3<=zMid&&cpZ+3>=zMid&&l.index>apIndexSkip&&(c.innerText=j[chainDataIndex].text,c.style.color="white",c.style.backgroundColor=j[chainDataIndex].color,c.style.padding="8px",c.style.fontSize="15px",chainDataIndex+=1,apIndexSkip=l.index+10),tmAnnotation=a.addAnnotation(l.positionToVector3(),c)},new NGL.Selection("polymer")),hc=document.getElementsByTagName("div1");for(var m=0;m<hc.length;m++)hc[m].hidden=!0}})}function e(a){if(20>=a)var b=.2;else if(20<=a&&30>=a)var b=.15;else if(30<a&&40>=a)var b=.1;else if(40<a&&50>=a)var b=.07;else if(50<a)var b=.07;return b}function f(a,b){var c=Array.from(a.parent.structure.atomStore.bfactor);for(ARR=g(c,b),str="",i=0;i<ARR.length;i++)str=str+ARR[i]+", ";0==str.length?a.setSelection(","):a.setSelection(str)}function g(a,b){var c=[];for(i=0;i<a.length;i++)if(a[i]<b)continue;else c.push(i+1);return c}function h(a){return stage.loadFile(a).then(function(a){G.innerText="PIPs density level: 6.0",F.value="both",l=!0,n=a.addRepresentation("surface",{color:"darkmagenta",isolevel:6,boxSize:40,useWorker:!1,contour:!1,opaqueBack:!1,background:!1,isolevelScroll:!1,opacity:.8}),p=a.addRepresentation("slice",{dimension:"x",positionType:"percent",filter:"cubic-catmulrom",colorScale:"Viridis"}),p.toggleVisibility()})}function j(a){return stage.loadFile(a).then(function(a){H.innerText="Chol level: 6.0",F.value="both",m=!0,q=a.addRepresentation("surface",{color:"#f40f68",isolevel:6,boxSize:40,useWorker:!0,contour:!1,opaqueBack:!1,isolevelScroll:!1,opacity:.8}),r=a.addRepresentation("slice",{dimension:"x",positionType:"percent",filter:"cubic-catmulrom"}),r.toggleVisibility()})}function k(a){stage.setParameters({quality:"auto"});var b;"5HT1B"===a?p1=[d("data/bf/5HT1B_vmd_NUMBER.pdb"),d("data/bf/5HT1B_vmd_DURATION.pdb","Serotonin Receptor 5-HT1B","4IAQ"),h("data/dxs/5HT1B_pips.dx"),j("data/dxs/5HT1B_roh.dx"),stage.viewerControls.orient([-120.39,-11.75,3.76,0,2.6,11.99,120.4,0,-12.07,119.84,-11.68,0,-90.65,-97.35,-62.85,1])]:"A2ARa"===a?b=[d("data/bf/A2ARa_vmd_NUMBER.pdb"),d("data/bf/A2ARa_vmd_DURATION.pdb","Adenosine A2A Receptor (active state)","2YDV"),h("data/dxs/A2ARa_pips.dx"),j("data/dxs/A2ARa_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"A2ARi"===a?b=[d("data/bf/A2ARi_vmd_NUMBER.pdb"),d("data/bf/A2ARi_vmd_DURATION.pdb","Adenosine A2A Receptor (inactive state)","3EML"),h("data/dxs/A2ARi_pips.dx"),j("data/dxs/A2ARi_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"ApelinR"===a?b=[d("data/bf/ApelinR_vmd_NUMBER.pdb"),d("data/bf/ApelinR_vmd_DURATION.pdb","Apelin Receptor","4VBL"),h("data/dxs/ApelinR_pips.dx"),j("data/dxs/ApelinR_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"AT2R"===a?b=[d("data/bf/AT2R_vmd_NUMBER.pdb"),d("data/bf/AT2R_vmd_DURATION.pdb","Angiotensin II Type 2 Receptor","5UNG"),h("data/dxs/AT2R_pips.dx"),j("data/dxs/AT2R_roh.dx"),stage.viewerControls.orient([-116.74,-1.55,27.9,0,27.27,19.83,115.2,0,-6.096,118.38,-18.93,0,-91.9,-91.7,-65.45,1])]:"b2ARa"===a?b=[d("data/bf/b2ARa_vmd_NUMBER.pdb"),d("data/bf/b2ARa_vmd_DURATION.pdb","\u03B22 Adrenergic Receptor (active state)","3SN6"),h("data/dxs/b2ARa_pips.dx"),j("data/dxs/b2ARa_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"b2ARi"===a?b=[d("data/bf/b2ARi_vmd_NUMBER.pdb"),d("data/bf/b2ARi_vmd_DURATION.pdb","\u03B22 Adrenergic Receptor (inactive state)","2RH1"),h("data/dxs/b2ARi_pips.dx"),j("data/dxs/b2ARi_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"CalcitoninR"===a?b=[d("data/bf/CalcitoninR_vmd_NUMBER.pdb"),d("data/bf/CalcitoninR_vmd_DURATION.pdb","Calcitonin Receptor","5UZ7"),h("data/dxs/CalcitoninR_pips.dx"),j("data/dxs/CalcitoninR_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"CB1R"===a?b=[d("data/bf/CB1R_vmd_NUMBER.pdb"),d("data/bf/CB1R_vmd_DURATION.pdb","Cannabinoid Receptor CB1","5TGZ"),h("data/dxs/CB1R_pips.dx"),j("data/dxs/CB1R_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"CXCR1"===a?b=[d("data/bf/CXCR1_vmd_NUMBER.pdb"),d("data/bf/CXCR1_vmd_DURATION.pdb","C-X-C Motif Chemokine Receptor 1","2LNL"),h("data/dxs/CXCR1_pips.dx"),j("data/dxs/CXCR1_roh.dx"),stage.viewerControls.orient([3.63,.53,113.63,0,112.01,-19.13,-3.49,0,19.11,112.06,-1.13,0,-92.9,-90.85,-63.5,1])]:"D3R"===a?b=[d("data/bf/D3R_vmd_NUMBER.pdb"),d("data/bf/D3R_vmd_DURATION.pdb","Dopamine D3 Receptor","3PBL"),h("data/dxs/D3R_pips.dx"),j("data/dxs/D3R_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"ETbR"===a?b=[d("data/bf/ETbR_vmd_NUMBER.pdb"),d("data/bf/ETbR_vmd_DURATION.pdb","Endothelin ETB Receptor","5X93"),h("data/dxs/ETbR_pips.dx"),j("data/dxs/ETbR_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"GLP1"===a?b=[d("data/bf/GLP1_vmd_NUMBER.pdb"),d("data/bf/GLP1_vmd_DURATION.pdb","Glucagon-Like Peptide 1","5VEW"),h("data/dxs/GLP1_pips.dx"),j("data/dxs/GLP1_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"GlucagonR"===a?b=[d("data/bf/GlucagonR_vmd_NUMBER.pdb"),d("data/bf/GlucagonR_vmd_DURATION.pdb","Glucagon Receptor","4L6R"),h("data/dxs/GlucagonR_pips.dx"),j("data/dxs/GlucagonR_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"H1R"===a?b=[d("data/bf/H1R_vmd_NUMBER.pdb"),d("data/bf/H1R_vmd_DURATION.pdb","Histamine Receptor H1","3RZE"),h("data/dxs/H1R_pips.dx"),j("data/dxs/H1R_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"LPAR1"===a?b=[d("data/bf/LPAR1_vmd_NUMBER.pdb"),d("data/bf/LPAR1_vmd_DURATION.pdb","Lysophosphatidic Acid Receptor 1","4Z36"),h("data/dxs/LPAR1_pips.dx"),j("data/dxs/LPAR1_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"M2Ra"===a?b=[d("data/bf/M2Ra_vmd_NUMBER.pdb"),d("data/bf/M2Ra_vmd_DURATION.pdb","Muscarinic Receptor (active state)","4MQS"),h("data/dxs/M2Ra_pips.dx"),j("data/dxs/M2Ra_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"M2Ri"===a?b=[d("data/bf/M2Ri_vmd_NUMBER.pdb"),d("data/bf/M2Ri_vmd_DURATION.pdb","Muscarinic Receptor (inactive state)","3UON"),h("data/dxs/M2Ri_pips.dx"),j("data/dxs/M2Ri_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"mGlu5"===a?b=[d("data/bf/mGlu5_vmd_NUMBER.pdb"),d("data/bf/mGlu5_vmd_DURATION.pdb","Metabotropic Glutamate Receptor 5","4OO9"),h("data/dxs/mGlu5_pips.dx"),j("data/dxs/mGlu5_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"mORa"===a?b=[d("data/bf/mORa_vmd_NUMBER.pdb"),d("data/bf/mORa_vmd_DURATION.pdb","\u03BC-Opioid Receptor (active state)","5C1M"),h("data/dxs/mORa_pips.dx"),j("data/dxs/mORa_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"mORi"===a?b=[d("data/bf/mORi_vmd_NUMBER.pdb"),d("data/bf/mORi_vmd_DURATION.pdb","\u03BC-Opioid Receptor (inactive state)","4DKL"),h("data/dxs/mORi_pips.dx"),j("data/dxs/mORi_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"OX2R"===a?b=[d("data/bf/OX2R_vmd_NUMBER.pdb"),d("data/bf/OX2R_vmd_DURATION.pdb","Orexin 2 Receptor","5WQC"),h("data/dxs/OX2R_pips.dx"),j("data/dxs/OX2R_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"PAR2"===a?b=[d("data/bf/PAR2_vmd_NUMBER.pdb"),d("data/bf/PAR2_vmd_DURATION.pdb","Protease-Activated Receptor 2","5NDD"),h("data/dxs/PAR2_pips.dx"),j("data/dxs/PAR2_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"RhodRa"===a?b=[d("data/bf/RhodRa_vmd_NUMBER.pdb"),d("data/bf/RhodRa_vmd_DURATION.pdb","Rhodopsin (active state)","3PQR"),h("data/dxs/RhodRa_pips.dx"),j("data/dxs/RhodRa_roh.dx"),stage.viewerControls.orient([-120.39,-11.75,3.76,0,2.6,11.99,120.4,0,-12.07,119.84,-11.68,0,-90.65,-97.35,-62.85,1])]:"RhodRi"===a?b=[d("data/bf/RhodRi_vmd_NUMBER.pdb"),d("data/bf/RhodRi_vmd_DURATION.pdb","Rhodopsin (inactive state)","1GZM"),h("data/dxs/RhodRi_pips.dx"),j("data/dxs/RhodRi_roh.dx"),stage.viewerControls.orient([-64.31,-2.42,102.66,0,102.46,6.44,64.34,0,-6.74,120.96,-1.37,0,-91.4,-93.05,-66.95,1])]:"S1PR1"===a?b=[d("data/bf/S1PR1_vmd_NUMBER.pdb"),d("data/bf/S1PR1_vmd_DURATION.pdb","Lysophospholipid Sphingosine 1-Phosphate","3V2Y"),h("data/dxs/S1PR1_pips.dx"),j("data/dxs/S1PR1_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"SMO"===a?b=[d("data/bf/SMO_vmd_NUMBER.pdb"),d("data/bf/SMO_vmd_DURATION.pdb","Smoothened Receptor","4N4W"),h("data/dxs/SMO_pips.dx"),j("data/dxs/SMO_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])]:"US28"==a&&(b=[d("data/bf/US28_vmd_NUMBER.pdb"),d("data/bf/US28_vmd_DURATION.pdb","US28","4XT1"),h("data/dxs/US28_pips.dx"),j("data/dxs/US28_roh.dx"),stage.viewerControls.orient([-101.36,4.6,-54.8,0,-54.94,-3.53,101.33,0,2.37,115.2,5.3,0,-96.55,-89.45,-63.85,1])])}stage=new NGL.Stage("viewport"),stage.mouseControls.remove("scroll-shift"),stage.setParameters({backgroundColor:"white",cameraType:"orthographic",tooltip:!1,clipDist:0,lightIntensity:1.13});var l,m;stage.mouseControls.add("scroll-shift",function(a,b){var c=Math.sign(b)/10;a.eachRepresentation(function(a){var b;l&&a===n?(b=a.getParameters(),a.setParameters({isolevel:Math.max(.01,b.isolevel+c)})):m&&a===q&&(b=a.getParameters(),a.setParameters({isolevel:Math.max(.01,b.isolevel+c)}))})});var n,p,q,r,s=c([["","choose GPCR"],["5HT1B","5HT1B"],["A2ARa","A2ARa"],["A2ARi","A2ARi"],["ApelinR","ApelinR"],["AT2R","AT2R"],["b2ARa","b2ARa"],["b2ARi","b2ARi"],["CalcitoninR","CalcitoninR"],["CB1R","CB1R"],["CXCR1","CXCR1"],["D3R","D3R"],["ETbR","ETbR"],["GLP1","GLP1"],["GlucagonR","GlucagonR"],["H1R","H1R"],["LPAR1","LPAR1"],["M2Ra","M2Ra"],["M2Ri","M2Ri"],["mGlu5","mGlu5"],["mORa","mORa"],["mORi","mORi"],["OX2R","OX2R"],["PAR2","PAR2"],["RhodRa","RhodRa"],["RhodRi","RhodRi"],["S1PR1","S1PR1"],["SMO","SMO"],["US28","US28"]],{onchange:function(a){var b=a.target.value;k(b)}},{top:"8em",left:"1em"});a(s);var t=c([["smooth","smooth"],["wireframe","wireframe"],["contour","contour"],["flat","flat"]],{onchange:function(a){var b,c=a.target.value;"contour"===c?b={contour:!0,flatShaded:!1,opacity:1,metalness:0,wireframe:!1}:"wireframe"===c?b={contour:!1,flatShaded:!1,opacity:1,metalness:0,wireframe:!0}:"smooth"===c?b={contour:!1,flatShaded:!1,opacity:.7,metalness:0,wireframe:!1}:"flat"===c&&(b={contour:!1,flatShaded:!0,opacity:.7,metalness:.2,wireframe:!1}),stage.getRepresentationsByName("surface").list[2].setParameters(b),stage.getRepresentationsByName("surface").list[3].setParameters(b)}},{top:"12em",left:"1em"});a(t);var u=c([["x","x"],["y","y"],["z","z"]],{onchange:function(a){var b,c=a.target.value;"x"===c?b={dimension:"x"}:"y"===c?b={dimension:"y"}:"z"===c&&(b={dimension:"z"}),stage.getRepresentationsByName("slice").setParameters(b)}},{top:"26.3em",left:"1em"});a(u);var v=b("input",{id:"button2",type:"button",value:"toggle PIPs",onclick:function(){n.toggleVisibility()}},{top:"19.7em",left:"1em"});a(v);var w=b("input",{id:"button1",type:"button",value:"toggle CHOL",onclick:function(){q.toggleVisibility()}},{top:"17.5em",left:"1em"});a(w);var x=b("input",{id:"button4",type:"button",value:"toggle PIPs slice",onclick:function(){p.toggleVisibility()}},{top:"24.1em",left:"1em"});a(x);var y=b("input",{id:"button3",type:"button",value:"toggle CHOL slice",onclick:function(){r.toggleVisibility()}},{top:"21.9em",left:"1em"});a(y);var z=b("input",{id:"bfButton",type:"button",value:"Show DURATION map",onclick:function(){bfNUMBER.setParameters({colorScheme:"bfactor"}),bfDURATION.setParameters({colorScheme:"bfactor"}),2==STATE?STATE=1:0==STATE?STATE=2:1==STATE&&(STATE=0);var a=document.getElementById("bfButton").value;a.includes("DURATION")?(!bfDURATION.toggleVisibility().visible&&bfDURATION.toggleVisibility(),bfNUMBER.toggleVisibility().visible&&bfNUMBER.toggleVisibility(),document.getElementById("labelButton").value.includes("Hide")&&document.getElementById("labelButton").click(),document.getElementById("bfButton").value="Show NUMBER map",document.getElementById("labelButton").disabled=!1,document.getElementById("labelButton").style.opacity=1):a.includes("NUMBER")?(bfDURATION.toggleVisibility().visible&&bfDURATION.toggleVisibility(),!bfNUMBER.toggleVisibility().visible&&bfNUMBER.toggleVisibility(),document.getElementById("labelButton").value.includes("Hide")&&document.getElementById("labelButton").click(),document.getElementById("bfButton").value="Show NONE"):a.includes("NONE")&&(document.getElementById("labelButton").value.includes("Hide")&&document.getElementById("labelButton").click(),bfNUMBER.setParameters({colorScheme:""}),bfDURATION.setParameters({colorScheme:""}),document.getElementById("bfButton").value="Show DURATION map",document.getElementById("labelButton").disabled=!0,document.getElementById("labelButton").style.opacity=0)}},{top:"31.5em",left:"1em"});a(z);var A=b("input",{id:"labelButton",type:"button",value:"Show Labels",onclick:function(){labelState=document.getElementById("labelButton").value.split(" ")[0].toUpperCase();var a=document.getElementById("bfButton").value;if(labelState.includes("SHOW")){var b=document.getElementById("slider2");if(document.getElementById("labelButton").value="Hide Labels",labelState=document.getElementById("labelButton").value.split(" ")[0].toUpperCase(),a.includes("NUMBER")){var c=Array.from(labelNameDURATION.parent.structure.atomStore.bfactor),d=Math.max.apply(null,c);b.max=d+.1,labelNameNUMBER.toggleVisibility().visible&&labelNameNUMBER.toggleVisibility(),labelNameDURATION.toggleVisibility().visible||labelNameDURATION.toggleVisibility()}else if(a.includes("NONE")){var e=Array.from(labelNameNUMBER.parent.structure.atomStore.bfactor),f=Math.max.apply(null,e);b.max=f+.1,labelNameNUMBER.toggleVisibility().visible||labelNameNUMBER.toggleVisibility(),labelNameDURATION.toggleVisibility().visible&&labelNameDURATION.toggleVisibility()}else a.includes("DURATION")&&(labelNameNUMBER.toggleVisibility().visible&&labelNameNUMBER.toggleVisibility(),labelNameDURATION.toggleVisibility().visible&&labelNameDURATION.toggleVisibility())}else labelState.includes("HIDE")&&(document.getElementById("labelButton").value="Show Labels",labelNameNUMBER.toggleVisibility().visible&&labelNameNUMBER.toggleVisibility(),labelNameDURATION.toggleVisibility().visible&&labelNameDURATION.toggleVisibility())}},{top:"33.75em",left:"1em"});a(A),a(b("span",{innerText:"Slice Position: "},{top:"28.2em",left:"1.2em",color:"black",fontWeight:"bold"}));var B=b("input",{id:"slider1",type:"range",min:1,max:100,step:.1,oninput:function(a){stage.getRepresentationsByName("slice").setParameters({position:parseInt(a.target.value)})}},{top:"30em",left:"1.2em"});a(B),a(b("span",{innerText:"Residue label cutoff:"},{top:"35.8em",left:"1.2em",color:"black",fontWeight:"bold"}));var C=b("input",{id:"slider2",type:"range",value:10,min:0,max:parseFloat(60),step:.1,oninput:function(a){var b=stage.getRepresentationsByName("label");b=b.list[parseInt(STATE)],stage.getRepresentationsByName("label").setParameters({showL:f(b,a.target.value)})}},{top:"37.55em",left:"1.2em"});a(C);var D=b("input",{id:"button5",type:"button",value:"Screenshot ",onclick:function(){stage.makeImage({factor:1,antialias:!1,trim:!1,transparent:!1}).then(function(a){NGL.download(a,"screenshot.png")})}},{top:"41.4em",left:"1em"});a(D);var E=b("input",{class:"slider",id:"annotation",type:"button",value:"Show TM Annotations",onclick:function(){var a=document.getElementById("annotation").value;if(hc=document.getElementsByTagName("div1"),a.includes("Show"))for(var b=0;b<hc.length;b++)hc[b].hidden=!1,document.getElementById("annotation").value="Hide TM Annotations";else if(a.includes("Hide"))for(var b=0;b<hc.length;b++)hc[b].hidden=!0,document.getElementById("annotation").value="Show TM Annotations"}},{top:"39.1em",left:"1em"});a(E);var F=c([["PIPs","shift+scroll PIPs"],["CHOL","shift+scroll Chol"],["both","shift+scroll both"]],{onchange:function(a){var b=a.target.value;"PIPs"===b?(l=!0,m=!1):"CHOL"===b?(l=!1,m=!0):"both"===b&&(l=!0,m=!0)}},{top:"14.3em",left:"1em"});a(F);var G=b("span",{},{bottom:"2.3em",left:"1em",color:"black"});a(G);var H=b("span",{},{bottom:"1em",left:"1em",color:"black"});a(H);var I=b("span",{innerText:"GPCR structure:"},{bottom:"2.3em",right:"1em",color:"black"});a(I);var J=b("span",{innerText:""},{bottom:"1em",right:"1em",color:"black"});a(J),stage.mouseControls.add("scroll-shift",function(){if(n){var a=n.getParameters().isolevel.toFixed(1);G.innerText="PIPs density level: "+a}if(q){var b=q.getParameters().isolevel.toFixed(2);H.innerText="Chol level: "+b}}),k("RhodRa");var K=document.getElementById("slider1"),L=document.getElementById("slider2"),M=document.getElementById("annotation"),N=document.getElementById("button1"),O=document.getElementById("button2"),P=document.getElementById("button3"),Q=document.getElementById("button4"),R=document.getElementById("button5"),S=document.getElementById("bfButton"),T=document.getElementById("labelButton"),U=document.getElementsByTagName("select")[0];U.id="soflow-color";var U=document.getElementsByTagName("select")[1];U.id="soflow-color2";var U=document.getElementsByTagName("select")[1];U.id="soflow-color4";var U=document.getElementsByTagName("select")[2];U.id="soflow-color2";var U=document.getElementsByTagName("select")[3];U.id="soflow-color3",K.classList.add("slider"),L.classList.add("slider"),M.classList.add("primary-btn"),N.classList.add("primary-btn"),O.classList.add("primary-btn"),P.classList.add("primary-btn"),Q.classList.add("primary-btn"),R.classList.add("primary-btn"),S.classList.add("primary-btn"),T.classList.add("primary-btn"),document.getElementById("labelButton").disabled=!0,document.getElementById("labelButton").style.opacity=0});